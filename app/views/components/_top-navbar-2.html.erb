<div class="top-navbar-container">
  <%= link_to root_path, class: "root-link-2" do%>
    <h1 class="top-navbar-title">insite</h1>
  <% end %>

  <%= render 'components/search-form' %>

  <div class="discover-avatar-container">
  <% if current_page?(root_path) %>
    <div class="discover-button-replacement"></div>
  <% elsif current_page?(discover_pages_path) %>
    <div class="discover-button-replacement"></div>
  <% else %>
    <%= link_to "Discover", discover_pages_path, class: "discover-button" %>
  <% end %>

    <div data-controller="avatar">
      <% if current_user.avatar.present? %>
        <%= user_avatar(current_user, class: "avatar-image", data: { action: "click->avatar#click", avatar_target: "avatarImage" }) %>
      <% else %>
        <img src="default-avatar" class="avatar-image" alt="Default Avatar" data-action="click->avatar#click" data-avatar-target="avatarImage">
      <% end %>
      <div class="avatar-dropdown" data-avatar-target="dropdown">
        <ul>
          <li class="profile-dropdown">
            <%= link_to "Profile", user_path(current_user), class: "dropdown-links" %>
          </li>
          <li class="logout-dropdown">
            <%= link_to "Logout", destroy_user_session_path, data: {turbo_method: :delete}, class: "dropdown-links" %>
          </li>
        </ul>
      </div>
    </div>
  </div>

</div>
